---
title: "STA100 Lab1"
author: "Chi Po Choi"
date: "9/30/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Hi! - Chi Po Choi
Hello everyone! My name is Po. I did bachelor+master in mathematics a while ago in Hong Kong, with some exposure in geometry (with applications in medical imagining, if have to make it related to bio-ish...) before shifting gears to do statistics here in Davis, working on something related to the Big Bang. I am also trying to get into data science things in Bay area. Super excited to meet you all in person here!

- Chi Po Choi
- Email: cpchoi@ucdavis.edu (heavily titled [STA100] but generally prefer piazza or office hours)
- Office Hour: Friday 9am (Zoom link in Canvas)

# R, RStudio and RMarkdown

### Install R and RStudio

1. Go to https://cloud.r-project.org/ and download+install *R* by following instructions corresponding to your operation system (MacOS, Windows or Linux).

2. Go to https://www.rstudio.com/products/rstudio/ and download+install **RStudio Desktop** corresponding to your operation system (MacOS, Windows or Linux).

3. In case the above not working, here are some other/advanced ways to have RStudio ready in your hands: [RStudio Cloud](https://rstudio.cloud), [Rstudio Server Docker](https://hub.docker.com/r/rocker/rstudio), or maybe [RStudio in Binder](https://mybinder.org/) [![Binder](http://mybinder.org/badge_logo.svg)](http://mybinder.org/v2/gh/pochoi/sta100-fall2021/main?urlpath=rstudio)

### RMarkdown 

1. â†– Click **New File** then new **R Markdown**. Click Yes to the pop-up to install all necessary R packages. And proceed to create your first R Markdown file.

   In cases some error messages go around, try following [R Markdown: The Definitive Guide -> Installation](https://bookdown.org/yihui/rmarkdown/installation.html) to manually install R packages `rmarkdown` and `tinytex`.

2. Save and Knit into html or pdf. You just made your first Rmarkdown documents!

3. Get the R notes prepared by Maxime in [STA100B Piazza Resources ](https://piazza.com/ucdavis/fall2021/sta100b/resources) . You may try to load `.Rmd` files into RStudio and Knit into html or pdf. You can verify that the nicely-made pdf notes are generated by corresponding `.Rmd`.

- `STA-100-R-Handout-Week-1-Summary-Statistics.Rmd`
- `STA-100-R-Handout-Week-1-Summary-Statistics.pdf`
- `STA-100-R-Handout-Week-2-Graphs.Rmd`
- `STA-100-R-Handout-Week-2-Graphs.pdf`
- `STA-100-R-Handout-Week-3-QQ-plots.Rmd`
- `STA-100-R-Handout-Week-3-QQ-plots.pdf`

Find some time to follow the notes to learn some basics.

4. For general info about RMarkdown, visit https://rmarkdown.rstudio.com/ .

#### R tutorial

- Interactive R course lessons **swirl** https://swirlstats.com/students.html

  Install **swirl** with the following commands.
  ```{r eval=FALSE}
  # If you haven't installed the swirl package yet
  install.packages("swirl")
  library(swirl)
  install_course_github("swirldev", "R_Programming_E")
  ```

  After **swirl** is installed (you only need to do it once), you can start/resume the R tutorial with the commands:
  ```{r eval=FALSE}
  library(swirl)
  swirl()
  ```
  Schedule some time to go though all the lessons by yourself! Almost all of the R codes you need to know are here in those lessons.

- If you prefer more static readings (Po did read them to learn R!):
  - R for Beginners https://cran.r-project.org/doc/contrib/Paradis-rdebuts_en.pdf
  - An Introduction to R https://cran.r-project.org/doc/manuals/r-release/R-intro.pdf

- If you like RStudio's data science things,
  - R for Data Science https://r4ds.had.co.nz/
  - RStudio Primer https://rstudio.cloud/learn/primers/


# Quick start with R and RStudio

Follow the below instructions to make yourself comfortable in using R/RStudio for statistical/scientific computing.

#### Scientific computing

- In **Console**, type and enter `1+1` and you will get
  ```{r}
  1+1
  ```

- Try `2.1*(3.7+4.9)/5.2`, `sin(pi/3)`, `exp(0.8)`, `log(1.0)` and anything. You can now throw away your TI-who-cares calculator!

#### Working directory

Working directory is the default folder in which files are saved and read.

- In the **Files** tab, find/create a folder for your STA100 work. Click **More** then **Set As Working Directory**.

- Download the `patients101.csv` in [STA100B Piazza Resources ](https://piazza.com/ucdavis/fall2021/sta100b/resources)  and save it into your working directory. Then, run the codes `patients101 = read.csv("patients101.csv")`

- Click on the Data `patients101` in Environment tab. You have just loaded your first dataset into RStudio!

#### R scripts

- Click the "little green plus icon" and select **R Script**. Then you obtain a notebook that for your to put R codes. Type some codes, for example
  ```{r, eval=F}
  x <- 10.5
  y <- 8.1
  z <- x + y
  print(z)
  ```
  Click **Source** to and see the result `18.6` in **Console**.

  Try computing the average age in the `patients101` dataset
  ```{r, eval=F}
  s <- mean(patients101$age)
  print(s)
  ```


- You can also **Run** line by line. Put your cursor to the line your want to run and click **Run**. You can also use hot-key **Command+Enter** in mac (or **Control+Enter** in Windows?).

- Click the floppy icon to save your R script in your working directory. Usually we save R scripts with file extension `.R`, for example, `discussion1_is_the_best.R`. Now you can shut down your computer and go out to enjoy the sunshine! See you all next week!

- Next week, open your script and work on it again.

# Exercise in `Discussion_01.pdf`

Get the `Discussion_01.pdf` prepared by Maxime in [STA100B Piazza Resources ](https://piazza.com/ucdavis/fall2021/sta100b/resources) . 

#### Questions

On Piazza, under Datasets, you will find the file
`patients101.csv`. This file has the following columns:
```
Column 1: age: The age of the patient.
Column 2: totalchol: A measure of the patients total cholesterol - the higher the number, the more cholesterol. In units of mg/dL.
Column 3: sysBP: The patients systolic blood pressure. In units of mm Hg.
Column 4: weight: The patients weight in units of kg.
Column 5: height: The patients height in units of cm.
Column 6: sedmins: The patients number of sedentary minutes per week.
Column 7: obese: The patients obesity category, with values normal, overweight, obese.
Column 8: marriage: The patients marriage category, with values other, married, divorced, widowed, nevermarried.
Column 9: gender: M or F, denoting Male or Female.
```
(a) Find the average systolic blood pressure of all subjects.
(b) Find the standard deviation of systolic blood pressure of all subjects.
(c) Find the average of weight of all subjects.
(d) Find the average of height of all subjects.
(e) Find the average of weight by gender.
(f) Find the standard deviation of height by gender.
(g) Which marriage category has the most subjects?
(h) Find the average weight for married and divorced
subjects.

#### Some answers

Copy the codes into your script and Run!
```{r}
patients101 = read.csv("patients101.csv")
```

```{r}
mean(patients101$weight)
```

```{r}
sd(patients101$weight)
```

```{r}
aggregate(weight ~ marriage, data = patients101, mean)
```
```{r}
aggregate(height ~ marriage, data = patients101, sd)
```

```{r}
aggregate(height ~ marriage, data = patients101, length)
```	

Try to get all the answers by modifying the codes above.

# Homework 1 R scripts 

In `Homework-01-Help-R.R` [STA100B Piazza Resources ](https://piazza.com/ucdavis/fall2021/sta100b/resources)
```{r eval=FALSE}
pain.data =  read.csv("pain.csv", header = T)
pain.data

names(pain.data)

pain.data$HairColor

pain.data$Score

hist(pain.data$Score)

#(a) Find the overall mean of pain tolerance, regardless 
#of hair color

mean(pain.data$Score)

#(b) Find the overall standard deviation of pain tolerance, 
#regardless of hair color.

sd(pain.data$Score) # standard deviation 

#(c) Find the mean pain tolerance for the category DarkBrunette. 
#Hint: Use R to find the mean for each group.

aggregate(Score ~ HairColor, data = pain.data, mean)

```

